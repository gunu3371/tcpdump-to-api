# Tcpdump to API

이 프로젝트는 `tcpdump`를 사용하여 네트워크 트래픽을 캡처하고, 그 결과를 파싱하여 지정된 API 엔드포인트로 주기적으로 POST 요청을 보내는 파이썬 스크립트입니다.

# **주의: 이 프로젝트의 코드는 전부 AI에 의해 작성되었습니다.**

## 주요 기능

- `tcpdump`를 백그라운드 프로세스로 실행하여 실시간으로 네트워크 패킷 캡처
- 캡처된 `tcpdump` 출력에서 주요 정보(프로토콜, IP 주소, 포트, 데이터 길이 등) 파싱
- 파싱된 데이터를 메모리 버퍼에 임시 저장
- 설정된 주기마다 버퍼의 데이터를 지정된 API 엔드포인트로 전송
- `.env` 파일을 통한 손쉬운 설정 (API 주소, 전송 주기)

## 요구 사항

- Python 3
- `tcpdump`

프로젝트 실행에 필요한 파이썬 라이브러리는 `requirements.txt`에 명시되어 있습니다. 아래 명령어로 설치할 수 있습니다.

```bash
pip install -r requirements.txt
```

## 설정

프로젝트 루트 디렉토리에 `.env` 파일을 생성하고 아래와 같이 환경 변수를 설정합니다.

```
# 데이터를 전송할 API 엔드포인트 URL
POST_URL=http://localhost:8000/packets

# 데이터 전송 주기 (초)
SEND_INTERVAL=10
```

## 사용법

아래 명령어를 사용하여 스크립트를 실행합니다.

```bash
python3 main.py
```

네트워크 인터페이스에 접근하기 위해 `sudo` 권한이 필요할 수 있습니다.

```bash
sudo python3 main.py
```

스크립트가 실행되면 패킷 캡처가 시작되고, 설정된 주기마다 데이터가 전송될 때마다 콘솔에 로그가 출력됩니다. 스크립트를 중지하려면 `Ctrl+C`를 누르세요.
